<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Data Labs</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="images/logo.png">
    <link rel="stylesheet" href="styles/ws_styles.css">
    <link rel="stylesheet" href="styles/normalize.css">

</head>

<body>
    <!--//////////Preloader//////////-->
    <!--<div id="loader-wrapper">
          <div class="loader__logo">!
           <img src="images/logo.png" alt="">
          </div>-->
    </div>
    <div id="page-content">
        <!--//////////Header//////////-->
        <div id="blur">
            <header class="header">
                <div class="container">
                    <div class="header__inner">
                        <a href="index.html" class="header__logo-link"><div class="header__logo">
                            <img src="images/logo.png" alt="">
                        </div></a>
                        <nav class="nav">
                            <div class="account-details"></div>
                            <a href="index.html" class="nav__link">home</a>  
                            <a href="#" onclick="toggle_signin()" class="nav__link btn--navin" id="login">sign in</a>
                            <a href="#" class="nav__link btn--navout" id="logout">log out</a>
                            <a href="#" onclick="toggle__offcreate()" class="nav__link btn--navlink" id="block__create">create block</a>
                            <a href="#" class="nav__link lang--switcher">RU</a>
                        </nav>
                    </div>
                </div>
            </header>
            <!--//////////Intro//////////-->
            <div class="title__container">
                <div class="block__title">
                   <div class="block__title__input" id="TITLE" contenteditable="true"> text goes here</div>
                 </div>
            </div>
            <div class="content__container">    
               <!--Blocks goes here-->
            </div>
            </div>
        </div>
        <!--//////////Forms and Modals//////////-->
        <div id="signin">
            <a href="#" onclick="toggle_signin()" class="signin__link">x</a>
            <h1 class="form_header main--header">Welcome</h1>
            <p class="form__header">Email</p>
            <form id="signin-form">
                <input class="form__input" id="signin-email" type="text" name="" placeholder="Enter email">
                <p class="form__header">Password</p>
                <input class="form__input" id="signin-password" type="password" name="" placeholder="Enter password">
                <input onclick="toggle_signin()" class="form__input_submit" type="submit" name="" value="Sign in">
                <a href="workspace_f.html" class="sneaky"></a>
                <p class="form__subheader">Don't have an account? <a class="form__link" onclick="toggle_sign_upin()"
                href="#" class="signup__link">Sign up</a></p>
            </form>
        </div>
        <div id="signup">
            <a href="#" onclick="toggle__offall()" class="signup__link">x</a>
            <h1 class="form_header main--header">New here?</h1>
            <form id="signup-form">
                <p class="form__header">Username</p>
                <input class="form__input" id="signup-username" type="text" name="" placeholder="Enter username">
                <p class="form__header">Email</p>
                <input class="form__input" id="signup-email" type="text" name="" placeholder="Enter email">
                <p class="form__header">Password</p>
                <input class="form__input" id="signup-password" type="password" name="" placeholder="Enter password">
                <input onclick="toggle__offall()" class="form__input_submit" type="submit" name="" value="Sign up">
                <p class="form__subheader">Already have an account? <a class="form__link" onclick="toggle_sign_upin()"
                href="#" class="signup__link">Sign in</a></p>
            </form>
        </div>

        <div id="create__block">
            <a href="#" onclick="toggle__offcreate()" class="signup__link">x</a>
            <h1 class="form_header main--header">New block</h1>
            <form id="create__block__form">
                <input id="block__date" type="text">
                <p class="form__header">Title</p>
                <input class="form__input" id="create__block__title" type="text" name="" placeholder="Enter title">
                <p class="form__header">Content</p>
                <input class="form__input" id="create__block__content" type="text" name="" placeholder="Enter content">
                <p class="form__header">Block options</p>
                <select class="form__select" name="form__colors" id="colors">
                    <option class="form__select__option" id="create__block__color" value="c1">Green</option>
                    <option class="form__select__option" id="create__block__color" value="c2">Red</option>
                    <option class="form__select__option" id="create__block__color" value="c3">Yellow</option>
                    <option class="form__select__option" id="create__block__color" value="c4">Pink</option>
                    <option class="form__select__option" id="create__block__color" value="c5">Purple</option>
                    <option class="form__select__option" id="create__block__color" value="">White</option>
                  </select>
                <select class="form__select" name="form__size" id="size">
                    <option class="form__select__option" id="create__block__size" value="">Small</option>
                    <option class="form__select__option" id="create__block__size" value="big-block">Big</option>
                  </select>
                  <input name="myFile" type="file">

              <!-- <input href="#" value="c1" class="colorswitch">âš«</input>--> 
                <input onclick="toggle__offcreate()" class="form__input_submit" type="submit" name="" value="Create">
            </form>
        </div>

        <script>
            let today = new Date().toISOString().slice(0, 10)
            document.getElementById("block__date").value = today;

            function toggle_signin() {
                var blur = document.getElementById('blur');
                blur.classList.toggle('active');
                var popup = document.getElementById('signin');
                popup.classList.toggle('active');
            }
            function toggle_signup() {
                var blur = document.getElementById('blur');
                blur.classList.toggle('active');
                var popup1 = document.getElementById('signup');
                popup1.classList.toggle('active');
            }
            function toggle_sign_upin() {
                var popup = document.getElementById('signin');
                popup.classList.toggle('active');
                var popup1 = document.getElementById('signup');
                popup1.classList.toggle('active');
                document.getElementById('signup-email').value = '';
                document.getElementById('signup-password').value = '';
            }
            function toggle__offall() {
                var blur = document.getElementById('blur');
                blur.classList.toggle('active');
                var popup1 = document.getElementById('signup');
                popup1.classList.toggle('active');
            }
            function toggle__offmodal() {
                var blur = document.getElementById('blur');
                blur.classList.toggle('active');
                var modal_article = document.getElementById('modal__article');
                modal_article.classList.toggle('active');
            }
            function toggle__offcreate() {
                var blur = document.getElementById('blur');
                blur.classList.toggle('active');
                var modal_create = document.getElementById('create__block');
                modal_create.classList.toggle('active');
            }
            function toggle__offsupport() {
                var blur = document.getElementById('blur');
                blur.classList.toggle('active');
                var modal_article = document.getElementById('modal__support');
                modal_article.classList.toggle('active');
            }
            function toggle__offabout() {
                var blur = document.getElementById('blur');
                blur.classList.toggle('active');
                var modal_article1 = document.getElementById('modal__about');
                modal_article1.classList.toggle('active');
            }

    /*         window.onload = function loadLoader() {
                setTimeout(
                    function () {
                        document.getElementById('loader-wrapper').style.opacity = '0';
                    }, 5000
                );
                setTimeout(
                    function () {
                        document.getElementById('loader-wrapper').style.display = 'none';
                    }, 6000
                );
            }
    */

/////////////////////////////////////////////////////////////////////////////
/*
   //temporarily solution for contest 12.12.2020 fix later
    const editables = document.querySelectorAll("[contenteditable]");
    // save edits
    editables.forEach(el => {
      el.addEventListener("blur", () => {
       localStorage.setItem("dataStorage-" + el.id, el.innerHTML);
    })
  });
    // once on load
    for (var key in localStorage) {
      if (key.includes("dataStorage-")) {
       const id = key.replace("dataStorage-","");
    document.querySelector("#" + id).innerHTML = localStorage.getItem(key);
    }
  }
  */
  /////////////////////////////////////////////////////////////////////////////

        </script>
    
        <!--//////////FireBase//////////-->
        <!-- The core Firebase JS SDK is always required and must be listed first -->

        <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-firestore.js"></script>

        <!-- TODO: Add SDKs for Firebase products that you want to use
        https://firebase.google.com/docs/web/setup#available-libraries --> 
        <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-analytics.js"></script>

        <script>
            // Your web app's Firebase configuration
            // For Firebase JS SDK v7.20.0 and later, measurementId is optional
            var firebaseConfig = {
                apiKey: "AIzaSyADe_yY_Ne9PvX57nmmBR3g4rwGBNedhIo",
                authDomain: "data-labs-9e443.firebaseapp.com",
                databaseURL: "https://data-labs-9e443.firebaseio.com",
                projectId: "data-labs-9e443",
                storageBucket: "data-labs-9e443.appspot.com",
                messagingSenderId: "865927736252",
                appId: "1:865927736252:web:643e83937cc41002bd19b9",
                measurementId: "G-ZWJY58S0WB"
            };
            // Initialize Firebase
            firebase.initializeApp(firebaseConfig);

            // Make auth and firestore reference
            const auth = firebase.auth();
            const db = firebase.firestore();

            // Update firestore settings
            db.settings({ timestampsInSnapshots: true });
            firebase.analytics();
        </script>
        <!-- Third party Java-->
        <script src="scripts/block_create.js"></script>
</body>
</html>